<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tilts Against Humanity Card Decks</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"
    integrity="sha256-KzZiKy0DWYsnwMF+X1DvQngQ2/FxF7MF3Ff72XcpuPs=" crossorigin="anonymous"></script>
</head>

<body>
  <div class="text-center">
    <div class="display-4 page-title">Tilts Against Humanity</div>
    <p class="lead">A new fun way to play Tilted</p>
  </div>
  <div class="container">
    <div id="deck0" class="deck">
      <h2>Draw a card</h2>
      <div class="active-card">
        <p id="card-text0" class="active-card-text"></p>
      </div>
      <p>
        <button class="btn btn-lg btn-success" onclick="drawCard(0);">Draw</button>
      </p>
    </div>
    <div id="deck1" class="deck">
      <h2>Draw a card</h2>
      <div class="active-card">
        <p id="card-text1" class="active-card-text"></p>
      </div>
      <p>
        <button class="btn btn-lg btn-success" onclick="drawCard(1);">Draw</button>
      </p>
    </div>
    <div id="deck2" class="deck">
      <h2>Draw a card</h2>
      <div class="active-card">
        <p id="card-text2" class="active-card-text"></p>
      </div>
      <p>
        <button class="btn btn-lg btn-success" onclick="drawCard(2);">Draw</button>
      </p>
    </div>
    <div id="deck3" class="deck">
      <h2>Draw a card</h2>
      <div class="active-card">
        <p id="card-text3" class="active-card-text"></p>
      </div>
      <p>
        <button class="btn btn-lg btn-success" onclick="drawCard(3);">Draw</button>
      </p>
    </div>
  </div>

  <script>
    // SETUP
    let Decks = Array(4);
    let CardLists = [["Finish with 3 marbles ONLY.","Finish with 7 marbles ONLY.","Finish with 10 marbles ONLY.","Finish with an EVEN number of marbles in the bucket.","Finish with an ODD number of marbles in the bucket.","Set your countdown to 300 seconds for this level. (Draw again)","Set your countdown to a random number between 0 and 450 seconds for this level. (Draw again)","Play this level upside down.","Play this level with a reverse camera angle.","Play this level with a fully zoomed in camera.","Start the run over at Level 1. Womp Womp.","Play this level while the camera spins horizontally clockwise constantly. (If no controller is available, keep the camera pointed west during the level)","Play this level while the camera spins horizontally counter-clockwise constantly. (If no controller is available, keep the camera pointed east during the level)","Play this level while the camera spins vertically clockwise constantly. (If no controller is available, play this level with the camera upside down)","Play this level while the camera spins vertically counter-clockwise constantly. (If no controller is available, play with the camera fully zoomed in)","Finish the level with the EXACT time of 0:47.","Finish the level with the EXACT time of 0:51.","Finish the level with the EXACT time of 1:01.","Finish the level in 0:40 or under.","Play this level but you cannot press more than one key at a time.","All marbles cannot stay still for more than 3 seconds. (Draw another card)","Play this level with a controller. If you do not have a controller, then you must play with the camera fully zoomed in and set your timer to 150 seconds (no override if over)","Finish the level by ONLY saving those WITH a gemron.","Finish the level by ONLY killing the streamer marble.","Finish the level by ONLY saving those WITH a GREEN gemron.","Finish the level by ONLY saving those WITH a BLUE gemron.","Finish the level by ONLY saving those who are subscribers, VIPs, or Moderators (excluding any chatbots)","TRAP CARD: If one person donates 100x the bit amount of the current level you are on during any point of this level, you will be forced to start over to level 1. (Draw another card)"], ["Finish with 8 marbles ONLY.","Finish with 9 marbles ONLY.","Finish with 10 marbles ONLY.","Finish with an EVEN number of marbles in the bucket.","Finish with an ODD number of marbles in the bucket.","Set your countdown to 300 seconds for this level. (Draw again)","Set your countdown to a random number between 0 and 450 seconds for this level. (Draw again)","Play this level upside down.","Play this level with a reverse camera angle.","Play this level with a fully zoomed in camera.","Start the run over at Level 1. Womp Womp.","Play this level while the camera spins horizontally clockwise constantly. (If no controller is available, keep the camera pointed west during the level)","Play this level while the camera spins horizontally counter-clockwise constantly. (If no controller is available, keep the camera pointed east during the level)","Play this level while the camera spins vertically clockwise constantly. (If no controller is available, play this level with the camera upside down)","Play this level while the camera spins vertically counter-clockwise constantly. (If no controller is available, play with the camera fully zoomed in)","Finish the level with the EXACT time of 1:03.","Finish the level with the EXACT time of 1:11.","Finish the level with the EXACT time of 1:25","Finish the level in 1:00 or under.","Play this level but you cannot press more than one key at a time.","All marbles cannot stay still for more than 3 seconds. (Draw another card)","Play this level with a controller. If you do not have a controller, then you must play with the camera fully zoomed in and set your timer to 150 seconds (no override if over)","Finish the level by ONLY saving those WITH a gemron.","Finish the level by ONLY killing the streamer marble.","Finish the level by ONLY saving those WITH a GREEN gemron.","Finish the level by ONLY saving those WITH a BLUE gemron.","Finish the level by ONLY saving those who are subscribers, VIPs, or Moderators (excluding any chatbots)","Finish with 100% of the marbles.","Finish the level but you must save your competitor and kill your own marble. (Make sure the other streamer joins in on this level)","TRAP CARD: If one person donates 100x the bit amount of the current level you are on during any point of this level, you will be forced to start over to level 1. (Draw another card)"], ["Finish with 5 marbles ONLY.","Finish with 6 marbles ONLY.","Finish with 10 marbles ONLY.","Finish with an EVEN number of marbles in the bucket.","Finish with an ODD number of marbles in the bucket.","Set your countdown to 300 seconds for this level. (Draw again)","Set your countdown to a random number between 0 and 450 seconds for this level. (Draw again)","Play this level upside down.","Play this level with a reverse camera angle.","Play this level with a fully zoomed in camera.","Start the run over at Level 1. Womp Womp.","Play this level while the camera spins horizontally clockwise constantly. (If no controller is available, keep the camera pointed west during the level)","Play this level while the camera spins horizontally counter-clockwise constantly.  (If no controller is available, keep the camera pointed east during the level)","Play this level while the camera spins vertically clockwise constantly. (If no controller is available, play this level with the camera upside down)","Play this level while the camera spins vertically counter-clockwise constantly. (If no controller is available, play with the camera fully zoomed in)","Finish the level with the EXACT time of 2:08.","Finish the level with the EXACT time of 2:23.","Finish the level with the EXACT time of 2:34.","Finish the level in 2:00 or under.","Play this level but you cannot press more than one key at a time.","All marbles cannot stay still for more than 3 seconds. (Draw another card)","Play this level with a controller. If you do not have a controller, then you must play with the camera fully zoomed in and set your timer to 150 seconds (no override if over)","Finish the level by ONLY saving those WITH a gemron.","Finish the level by ONLY saving those WITH a GREEN gemron.","Finish the level by ONLY saving those WITH a BLUE gemron.","Finish the level by ONLY saving those who are subscribers, VIPs, or Moderators (excluding any chatbots)","Finish with 100% of the marbles.","Finish the level but you must save yourself AND your competitor. (Make sure the other streamer joins in on this level)","Finish the level with at least one marble that is a dev skin","Finish the level with at least one marble that is a streamer skin","TRAP CARD: If one person donates 100x the bit amount of the current level you are on during any point of this level, you will be forced to start over at level 1. (Draw another card)","Get out of Womp Womp Free Card: Beat this level without killing a marble to avoid one Womp Womp back to Level 1 on a future turn. (Draw another card)"], ["Finish with 4 marbles ONLY.","Finish with 5 marbles ONLY.","Finish with 6 marbles ONLY.","Finish with an EVEN number of marbles in the bucket.","Finish with an ODD number of marbles in the bucket.","Set your countdown to 300 seconds for this level. (Draw again)","Set your countdown to a random number between 0 and 450 seconds for this level. (Draw again)","Play this level upside down.","Play this level with a reverse camera angle.","Play this level with a fully zoomed in camera.","Start the run over at Level 1. Womp Womp.","Play this level while the camera spins horizontally clockwise constantly. (If no controller is available, keep the camera pointed west during the level)","Play this level while the camera spins horizontally counter-clockwise constantly. (If no controller is available, keep the camera pointed east during the level)","Play this level while the camera spins vertically clockwise constantly. (If no controller is available, play this level with the camera upside down)","Play this level while the camera spins vertically counter-clockwise constantly. (If no controller is available, play with the camera fully zoomed in)","Finish the level with the EXACT time of 3:25.","Finish the level with the EXACT time of 3:36.","Finish the level with the EXACT time of 3:45.","Finish the level under 3:00.","Play this level but you cannot press more than one key at a time.","All marbles cannot stay still for more than 3 seconds. (Draw another card)","Play this level with a controller. If you do not have a controller, then you must play with the camera fully zoomed in and set your timer to 150 seconds (no override if over)","Finish the level by ONLY saving those WITH a gemron.","Finish the level by ONLY saving those WITH a GREEN gemron.","Finish the level but you must save yourself AND your competitor. (Make sure the other streamer joins in on this level)","Finish the level by ONLY saving those who are subscribers, VIPs, or Moderators (excluding any chatbots)","Finish the level but you must save yourself AND your competitor. (Make sure the other streamer joins in on this level)","TRAP CARD: If one person donates 100x the bit amount of the current level you are on during any point of this level, you will be forced to start over at level 1. (Draw another card)"]];

    function shuffle(a) {
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function refillCards() {
      for (var n = 0; n < Decks.length; n++){
        Decks[n] = [];
        Decks[n] = CardLists[n].slice();
        Decks[n] = shuffle(Decks[n]);
        console.log('INFO: Deck was refilled and shuffled.');
      }
    }

    // GAME
    function drawCard(n) {
      if (Decks[n].length < 1) {
        refillCards();
      }

      let card = Decks[n].pop();
      document.getElementById('card-text' + n).innerHTML = card;
      console.log(card);
    }

    refillCards();
  </script>
</body>

</html>
